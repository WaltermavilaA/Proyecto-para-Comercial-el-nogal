<div class="reporte-entrega">
  <button 
    *ngIf="!mostrarFormulario"
    class="btn btn-primary"
    (click)="toggleFormulario()">
    ğŸ“‹ Registrar Entrega
  </button>

  <div *ngIf="mostrarFormulario" class="formulario-reporte">
    <h4>Registrar Entrega - Pedido #{{pedido.numeroPedido}}</h4>
    
    <div class="form-group">
      <label for="codigoVerificacion">ğŸ”¢ CÃ³digo de VerificaciÃ³n *</label>
      <input
        type="text"
        id="codigoVerificacion"
        [(ngModel)]="reporte.codigoVerificacion"
        placeholder="Ingresa el cÃ³digo proporcionado por el cliente"
        class="form-control"
        required>
    </div>

    <div class="form-group">
      <label for="fotoEvidencia">ğŸ“¸ Foto de Evidencia</label>
      <input
        type="file"
        id="fotoEvidencia"
        (change)="onImagenSeleccionada($event)"
        accept="image/*"
        class="form-control">
      <small class="text-muted">Toma una foto del paquete entregado</small>
    </div>

    <div class="form-group">
      <label for="observaciones">ğŸ“ Observaciones</label>
      <textarea
        id="observaciones"
        [(ngModel)]="reporte.observaciones"
        placeholder="Observaciones adicionales..."
        class="form-control"
        rows="3"></textarea>
    </div>

    <div class="form-actions">
      <button 
        class="btn btn-success"
        (click)="crearReporte()"
        [disabled]="!reporte.codigoVerificacion">
        âœ… Confirmar Entrega
      </button>
      <button 
        class="btn btn-secondary"
        (click)="toggleFormulario()">
        âŒ Cancelar
      </button>
    </div>
  </div>
</div>